# Default Configuration for Universal Simulation Engine
# This is the default configuration used when no custom config is provided

facility:
  name: "Default Industrial Facility"
  description: "Example industrial facility simulation"
  location: "Virtual Factory Floor 1"
  shift_schedule: "24x7"

simulation:
  time_acceleration: 1.0
  data_retention: "24h"
  fault_injection_rate: 0.02

network:
  base_ip: "192.168.100.0/24"
  port_ranges:
    modbus: [15000, 15100]
    opcua: [4840, 4940]
    mqtt: [1883, 1883]
    http: [8080, 8099]

industrial_protocols:
  modbus_tcp:
    enabled: true
    devices:
      temperature_sensors:
        count: 1
        port_start: 15000
        device_template: "industrial_temperature_sensor"
        locations: ["line_1"]
        update_interval: 2.0
        data_config:
          temperature_range: [18, 45]
          humidity_range: [30, 80]
          calibration_drift: 0.001

      pressure_transmitters:
        count: 1
        port_start: 15001
        device_template: "hydraulic_pressure_sensor"
        locations: ["hydraulic_press_1"]
        update_interval: 1.0
        data_config:
          pressure_range: [0, 300]
          flow_range: [10, 150]
          alarm_thresholds:
            high_pressure: 250
            low_flow: 20

      motor_drives:
        count: 1
        port_start: 15002
        device_template: "variable_frequency_drive"
        locations: ["conveyor_1"]
        update_interval: 0.5
        data_config:
          speed_range: [0, 3600]
          torque_range: [0, 500]
          power_range: [0, 100]

  # MQTT Protocol Configuration
  mqtt:
    enabled: true
    use_embedded_broker: true  # Set to false to use external broker (e.g., Mosquitto)
    broker_host: "localhost"
    broker_port: 1883
    client_id_prefix: "sim_"
    devices:
      # IoT Environmental Sensors
      environmental_sensors:
        count: 3
        device_template: "iot_environmental_sensor"
        base_topic: "factory/floor1/environment"
        publish_interval: 5.0
        qos: 1
        data_config:
          temperature_range: [18, 35]
          humidity_range: [30, 80]

      # Smart Energy Meters
      energy_meters:
        count: 2
        device_template: "smart_meter"
        base_topic: "factory/energy"
        publish_interval: 10.0
        qos: 1
        data_config:
          voltage_range: [220, 240]
          current_range: [0, 100]
          power_factor_range: [0.85, 0.99]

      # Asset Trackers
      asset_trackers:
        count: 5
        device_template: "asset_tracker"
        base_topic: "factory/assets"
        publish_interval: 30.0
        qos: 0
        data_config:
          zone_ids: ["zone_a", "zone_b", "zone_c", "warehouse"]
          battery_drain_rate: 0.001

  # OPC-UA Protocol Configuration
  opcua:
    enabled: true
    security_mode: "None"
    security_policy: "None"
    application_uri: "urn:protocol-sim-engine:opcua:server"
    devices:
      # CNC Machine Monitors
      cnc_machines:
        count: 1
        port_start: 4840
        device_template: "opcua_cnc_machine"
        locations: ["machining_center_1"]
        update_interval: 1.0
        data_config:
          spindle_speed_range: [0, 24000]
          feed_rate_range: [0, 15000]
          base_spindle_speed: 12000
          base_feed_rate: 5000
          tool_wear_rate: 0.01
          workspace_mm: [500, 400, 300]
          programs: ["G-Code_001", "G-Code_002", "G-Code_003"]

      # PLC Process Controllers
      plc_controllers:
        count: 1
        port_start: 4841
        device_template: "opcua_plc_controller"
        locations: ["process_line_1"]
        update_interval: 0.5
        data_config:
          process_value_range: [0, 100]
          setpoint: 50.0
          kp: 1.0
          ki: 0.1
          kd: 0.05
          high_alarm: 90
          low_alarm: 10

      # Industrial Robots
      industrial_robots:
        count: 1
        port_start: 4842
        device_template: "opcua_industrial_robot"
        locations: ["assembly_cell_1"]
        update_interval: 0.5
        data_config:
          joint_count: 6
          max_speed_percent: 100
          base_cycle_time: 15.0
          payload_range: [0, 20]
